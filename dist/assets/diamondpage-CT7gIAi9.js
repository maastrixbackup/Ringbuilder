import{u as g,a as N,r as l,j as s,L as u}from"./index-D2EfZsh8.js";import{b as f}from"./utils-DyJTyh0-.js";const S=()=>{const d=g(),{setSelectedDiamond:o}=N(),[t,r]=l.useState(!0),[m,x]=l.useState([]),[c,h]=l.useState([]),[p,j]=l.useState(null),n=async(e=null)=>{try{r(!0);const a={};e&&(a.shape=e);const i=await(await fetch(f()+"diamond-products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();i.status&&i.data&&(x(i.data.shapes||[]),h(i.data.products||[]))}catch(a){console.error("Error loading diamonds:",a)}finally{r(!1)}};return l.useEffect(()=>{n()},[]),s.jsxs("section",{className:"mt-2",children:[s.jsx("div",{className:`container ${t?"blurred":""}`,children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"stepper",children:[s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-number",children:"1"}),s.jsxs("div",{className:"step-label",children:[s.jsx("small",{children:"Choose a"}),s.jsx("strong",{children:"SETTING"})]}),s.jsx("div",{className:"step-icon",children:s.jsx("i",{className:"fas fa-cogs"})})]}),s.jsxs("div",{className:"step active",children:[s.jsx("div",{className:"step-number",children:"2"}),s.jsxs("div",{className:"step-label",children:[s.jsx("small",{children:"Choose a"}),s.jsx("strong",{children:"DIAMOND"})]}),s.jsx("div",{className:"step-icon",children:s.jsx("i",{className:"far fa-gem"})})]}),s.jsxs("div",{className:"step",children:[s.jsx("div",{className:"step-number",children:"3"}),s.jsxs("div",{className:"step-label",children:[s.jsx("small",{children:"Complete"}),s.jsx("strong",{children:"RING"})]}),s.jsx("div",{className:"step-icon",children:s.jsx("i",{className:"fas fa-ring"})})]})]}),s.jsxs("div",{className:"row mt-4",children:[s.jsx("div",{className:"col-md-12",children:s.jsx("div",{className:"ring-style-list d-flex flex-wrap gap-2",children:m.map((e,a)=>s.jsx("div",{className:`ring-style-item ${p===e.title?"border border-dark":""}`,style:{width:"70px",cursor:"pointer"},onClick:()=>{j(e.title),n(e.title)},children:s.jsxs("div",{className:"shape-box text-center",children:[s.jsx("img",{src:e.image||"/diamonds/default-shape.png",alt:e.name,height:a===9?"20px":"30px"}),s.jsx("br",{}),e.title]})},e.id||a))})}),s.jsxs("div",{className:"col-md-7 mt-4",children:[s.jsxs("h1",{className:"engaging-ring",children:["View All Diamonds"," ",s.jsxs("span",{className:"disable",children:["[",c.length,"]"]})]}),s.jsx("p",{className:"paragragh-engaging-ring pt-3",children:"Pick your perfect diamond with James Allen. Start by choosing a high-quality, GIA-certified diamond from our selection of conflict-free diamonds. Then select your preferred ring setting!"})]})]}),s.jsx("div",{className:"row mt-4",children:c.length===0?s.jsx("div",{className:"col-12",children:s.jsx("p",{children:"No diamonds found for selected shape."})}):c.map(e=>s.jsx("div",{className:"col-md-3 mb-4",children:s.jsxs("div",{className:"ring-product-box",onClick:()=>{o({label:e.title,price:`$${e.price}`,model:e.model||"/models/default.glb"}),d("/complete-ring")},style:{cursor:"pointer"},children:[s.jsx("div",{className:"ring-image-box",children:s.jsx("img",{src:e.main_image||"/diamonds/default.jpg",className:"w-100",alt:e.title})}),s.jsxs("div",{className:"content-ring-box",children:[s.jsx("p",{children:e.title}),s.jsxs("p",{children:["$",e.price]})]})]})},e.id))})]})}),t&&s.jsx(u,{isLoading:t})]})};export{S as default};
