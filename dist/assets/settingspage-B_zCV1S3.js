import{r as o,j as e,u as b,a as w,b as N,H as S,L as y}from"./index-BPaK3AnF.js";import{b as C}from"./utils-DyJTyh0-.js";const j=[{key:"style",label:"Setting",tagline:"Choose a Setting",price:"$1,200",img:"https://images.unsplash.com/photo-1543294001-f7cd5d7fb516?q=80&w=200&auto=format&fit=crop"},{key:"metal",label:"Setting",tagline:"View your Setting",price:"$1,200",img:"https://images.unsplash.com/photo-1543294001-f7cd5d7fb516?q=80&w=200&auto=format&fit=crop"},{key:"stone",label:"Diamond",tagline:"Choose a Diamond",price:"$3,500",img:"https://images.unsplash.com/photo-1543294001-f7cd5d7fb516?q=80&w=200&auto=format&fit=crop"},{key:"customize",label:"Diamond",tagline:"View Diamond",price:"$3,500",img:"https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?q=80&w=200&auto=format&fit=crop"},{key:"review",label:"Complete Ring",tagline:"Checkout",price:"$4,700",img:"https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?q=80&w=200&auto=format&fit=crop"}];function $(){const[d,m]=o.useState(0);return e.jsx("div",{className:"max-w-6xl mx-auto mt-6",children:e.jsx("div",{className:"flex w-full",children:j.map((a,i)=>{const r=i<d,g=i===d,h=g?"bg-yellow-400 text-black shadow-lg scale-105":r?"bg-green-400 text-black border-green-600 shadow-lg":"bg-gray-100 text-black border-2";return e.jsx("div",{className:"relative flex-1 transition-transform duration-200",style:{clipPath:i!==j.length-1?"polygon(0 0, calc(100% - 15px) 0, 100% 50%, calc(100% - 15px) 100%, 0 100%)":"polygon(0 0, 100% 0, 100% 100%, 0 100%)"},children:e.jsxs("button",{onClick:()=>m(i),className:`flex items-center justify-between h-22 w-full border ${h} transition-all px-4`,children:[e.jsxs("div",{className:"flex flex-col items-start text-left",children:[e.jsx("span",{className:"text-sm font-semibold text-black",children:a.label}),e.jsx("span",{className:"text-xs",children:a.tagline}),e.jsx("span",{className:"text-sm font-bold text-yellow-700 mt-1",children:r&&a.price})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[i!==4&&r&&e.jsx("div",{className:`w-12 h-12 overflow-hidden rounded-md border shadow-sm 
                    ${g?"border-yellow-500":"!border-gray-400"}`,children:r&&i!==4&&e.jsx("img",{src:a.img,alt:a.label,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex gap-2 mt-1 text-xs",children:r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-blue-600 hover:underline",children:"View"}),e.jsx("button",{className:"text-red-600 hover:underline",children:"Delete"})," "]})})]})]})},a.key)})})})}const R=()=>{const[d,m]=o.useState(!0),[a,i]=o.useState([]),[r,g]=o.useState([]),h=b(),{setSelectedSetting:f}=w(),[x]=N(),[l,p]=o.useState({});o.useEffect(()=>{const t={};for(const[s,c]of x.entries())t[s]=c;p(t)},[]),o.useEffect(()=>{const t=Object.fromEntries(Object.entries(l).filter(([c,u])=>u&&u.trim()!=="")),s=new URLSearchParams(t).toString();h(`/rings/${s?`?${s}`:""}`,{replace:!0})},[l,h]),o.useEffect(()=>{const t=new AbortController;return m(!0),fetch(`${C()}ring-products?${x.toString()}`,{method:"POST",headers:{"Content-Type":"application/json"}}).then(s=>s.json()).then(s=>{s.status&&s.data&&(i(s.data.style||[]),g(s.data.products||[]),m(!1))}).catch(s=>{s.name!=="AbortError"&&(console.error(s),m(!1))}),()=>t.abort()},[x]);const n=(t,s)=>{p(c=>{if(t==="ring-type"){if(c[t]===s){const{[t]:u,...v}=c;return v}return{...c,[t]:s}}return{...c,[t]:s}})};return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsxs("section",{className:"mt-24",children:[e.jsxs("div",{className:`container ${d?"blurred":""}`,children:[e.jsx($,{}),e.jsxs("div",{className:"row mt-4",children:[e.jsxs("div",{className:"page-header elegant-header",children:[e.jsx("h1",{children:"Discover Your Perfect Engagement Ring"}),e.jsx("p",{children:"Explore our curated collection of timeless settings, crafted with precision and designed to celebrate your unique love story."})]}),e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"ring-style-list d-flex flex-wrap gap-2",children:a.map(t=>e.jsxs("div",{className:`ring-style-item ${l["ring-type"]===t.title?"!border !border-gray-500 !bg-green-200":""}`,onClick:()=>{n("ring-type",t.title)},children:[e.jsx("img",{src:t.image&&t.image!==""?t.image:"/settings/fallback-style.svg",alt:t.title,style:{width:50,height:50,objectFit:"contain"}}),e.jsx("span",{children:t.title})]},t.id))})})]}),e.jsx("div",{className:"col-md-12 mt-3",children:e.jsxs("div",{className:"filter-row d-flex flex-wrap align-items-center ",children:[e.jsxs("select",{className:"filter-dropdown",value:l.size,onChange:t=>n("size",t.target.value),children:[e.jsx("option",{value:"",children:"Ring Size"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"4.5",children:"4.5"}),e.jsx("option",{value:"5",children:"5"})]}),e.jsxs("select",{className:"filter-dropdown",value:l.metal,onChange:t=>n("metal",t.target.value),children:[e.jsx("option",{value:"",children:"Metal"}),e.jsx("option",{value:"14K White Gold",children:"14K White Gold"}),e.jsx("option",{value:"14K Yellow Gold",children:"14K Yellow Gold"})]}),e.jsxs("select",{className:"filter-dropdown",value:l.width,onChange:t=>n("width",t.target.value),children:[e.jsx("option",{value:"",children:"Width"}),e.jsx("option",{value:"1.5 mm",children:"1.5 mm"}),e.jsx("option",{value:"2 mm",children:"2 mm"}),e.jsx("option",{value:"2.5 mm",children:"2.5 mm"})]}),e.jsxs("select",{className:"filter-dropdown",value:l["set-with"],onChange:t=>n("set-with",t.target.value),children:[e.jsx("option",{value:"",children:"Can Be Set With"}),e.jsx("option",{value:"Round",children:"Round"}),e.jsx("option",{value:"Princess",children:"Princess"})]}),e.jsxs("select",{className:"filter-dropdown",value:l.price,onChange:t=>n("price",t.target.value),children:[e.jsx("option",{value:"",children:"Price"}),e.jsx("option",{value:"<1000",children:"Under $1,000"}),e.jsx("option",{value:"1000–2500",children:"$1,000–$2,500"})]}),e.jsxs("label",{className:"filter-checkbox",children:[e.jsx("input",{type:"checkbox"})," On Sale"]}),e.jsxs("select",{className:"filter-dropdown",value:l["date-by"],onChange:t=>n("date-by",t.target.value),children:[e.jsx("option",{value:"",children:"Shipping Date by"}),e.jsx("option",{value:"1 Week",children:"1 Week"}),e.jsx("option",{value:"2 Weeks",children:"2 Weeks"})]}),e.jsxs("select",{className:"filter-dropdown",value:l["sort-by"],onChange:t=>n("sort-by",t.target.value),children:[e.jsx("option",{value:"",children:"Sort By"}),e.jsx("option",{value:"Best Sellers",children:"Best Sellers"}),e.jsx("option",{value:"Price: Low to High",children:"Price: Low to High"})]})]})}),e.jsx("div",{className:"row mt-4",children:r.length===0?e.jsx("div",{className:"col-12",children:e.jsx("p",{children:"No rings found for selected style."})}):r.map(t=>e.jsx("div",{className:"col-md-3 mb-4",children:e.jsxs("div",{className:"ring-product-box premium-card",onClick:()=>{const s={label:t.title,price:`$${t.ring_price}`};f(s),localStorage.removeItem("selectedDiamond"),h("/diamonds")},children:[e.jsx("div",{className:"ring-image-box",children:e.jsxs("div",{className:"product-container",children:[e.jsx("img",{src:t.normal_image||"/settings/ring.jpg",alt:t.title,className:"default-image w-100"}),e.jsx("img",{src:t.hover_image||"/settings/second-image.jpg",alt:"On model",className:"hover-image w-100"})]})}),e.jsxs("div",{className:"content-ring-box",children:[e.jsx("p",{className:"ring-title",children:t.title}),e.jsxs("p",{className:"ring-price",children:["$",t.ring_price," (Setting Price)"]})]})]})},t.id))})]}),d&&e.jsx(y,{isLoading:d})]})]})};export{R as default};
