import{u,a as j,r as t,j as e,L as f}from"./index-BPaK3AnF.js";import{b as N}from"./utils-DyJTyh0-.js";import{T as b}from"./Tab2-B8eakBkU.js";const D=()=>{const n=u(),{setSelectedDiamond:d}=j(),[r,c]=t.useState(!0),[m,g]=t.useState([]),[l,x]=t.useState([]),[p,h]=t.useState(null),o=async(s=null)=>{try{c(!0);const a={};s&&(a.shape=s);const i=await(await fetch(N()+"diamond-products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();i.status&&i.data&&(g(i.data.shapes||[]),x(i.data.products||[]))}catch(a){console.error("Error loading diamonds:",a)}finally{c(!1)}};return t.useEffect(()=>{o()},[]),e.jsxs("section",{className:"mt-2",children:[e.jsx("div",{className:`container ${r?"blurred":""}`,children:e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx("div",{className:"back-to-gallery mt-3 mb-2",children:e.jsx("span",{onClick:()=>n("/"),style:{fontSize:"12px",fontWeight:"600",textDecoration:"underline",cursor:"pointer",color:"#000",textTransform:"uppercase"},children:"< BACK TO RING SECTION"})}),e.jsxs("div",{className:"row mt-4",children:[e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"ring-style-list d-flex flex-wrap gap-2",children:m.map((s,a)=>e.jsx("div",{className:`ring-style-item ${p===s.title?"border border-dark":""}`,style:{width:"70px",cursor:"pointer"},onClick:()=>{h(s.title),o(s.title)},children:e.jsxs("div",{className:"shape-box text-center",children:[e.jsx("img",{src:s.image||"/diamonds/default-shape.png",alt:s.name,height:a===9?"20px":"30px"}),e.jsx("br",{}),s.title]})},s.id||a))})}),e.jsxs("div",{className:"col-md-7 mt-4",children:[e.jsxs("h1",{className:"engaging-ring",children:["View All Diamonds"," ",e.jsxs("span",{className:"disable",children:["[",l.length,"]"]})]}),e.jsx("p",{className:"paragragh-engaging-ring pt-3",children:"Pick your perfect diamond with James Allen. Start by choosing a high-quality, GIA-certified diamond from our selection of conflict-free diamonds. Then select your preferred ring setting!"})]})]}),e.jsx("div",{className:"row mt-4",children:l.length===0?e.jsx("div",{className:"col-12",children:e.jsx("p",{children:"No diamonds found for selected shape."})}):l.map(s=>e.jsx("div",{className:"col-md-3 mb-4",children:e.jsxs("div",{className:"ring-product-box",onClick:()=>{d({label:s.title,price:`$${s.price}`,model:s.model||"/models/default.glb"}),n("/complete-ring")},style:{cursor:"pointer"},children:[e.jsx("div",{className:"ring-image-box",children:e.jsx("img",{src:s.main_image||"/diamonds/default.jpg",className:"w-100",alt:s.title})}),e.jsxs("div",{className:"content-ring-box",children:[e.jsx("p",{children:s.title}),e.jsxs("p",{children:["$",s.price]})]})]})},s.id))})]})}),r&&e.jsx(f,{isLoading:r})]})};export{D as default};
