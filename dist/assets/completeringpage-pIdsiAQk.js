import{j as e,r as i,a as d}from"./index-B6oFtELr.js";import{C as m,A as x,E as p,u as h,M as u,a as g,B as j,V as b,b as f,O as v}from"./Environment-CJkEIGtD.js";function N({theme:s,modelPath:n}){const r=i.useRef(),{scene:t}=h("/ring_builder/"+n),a=i.useMemo(()=>t.clone(!0),[t]);return i.useEffect(()=>{a.traverse(o=>{o.isMesh&&o.material&&(s.raw||(o.material=new u({color:new g(s.color),metalness:s.metalness,roughness:s.roughness,envMapIntensity:s.envMapIntensity}),o.material.needsUpdate=!0))});const l=new j().setFromObject(a),c=new b;l.getCenter(c),a.position.sub(c),a.scale.set(.5,.5,.5)},[a,s]),e.jsx("primitive",{object:a,ref:r})}function C(){const s=i.useRef(),{camera:n}=f();return i.useEffect(()=>{n.position.set(0,1.5,5),s.current&&s.current.target.set(0,0,0)},[]),e.jsx(v,{ref:s,enableDamping:!0,dampingFactor:.15,enablePan:!1,rotateSpeed:.6,autoRotate:!0,autoRotateSpeed:2.5})}function M({theme:s,modelPath:n}){return e.jsx("div",{className:"col-md-12",children:e.jsx("div",{style:{height:"300px",border:"1px solid #ddd"},children:e.jsxs(m,{camera:{fov:35},gl:{physicallyCorrectLights:!0,outputEncoding:void 0,toneMapping:x,toneMappingExposure:1.2},children:[e.jsx(p,{preset:"studio",background:!1}),e.jsx("ambientLight",{intensity:.6}),e.jsx("directionalLight",{position:[5,5,5],intensity:2}),e.jsx(i.Suspense,{fallback:null,children:e.jsx(N,{theme:s,modelPath:n},s.label)}),e.jsx(C,{})]})})})}function w(){const{selectedSetting:s,selectedDiamond:n}=d(),r=[{label:"Original",raw:!0},{label:"Gold",color:"#b8860b",metalness:1,roughness:.2,envMapIntensity:1.5},{label:"Rose Gold",color:"#b76e79",metalness:1,roughness:.25,envMapIntensity:1.3},{label:"Platinum",color:"#e5e4e2",metalness:.9,roughness:.3,envMapIntensity:1.2},{label:"Black",color:"#2f2f2f",metalness:.8,roughness:.35,envMapIntensity:1.1}],[t,a]=i.useState(r[0]);return e.jsxs("div",{className:"container mt-4",children:[e.jsxs("div",{className:"stepper mb-4 d-flex justify-content-between",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-label",children:[e.jsx("small",{children:"Choose a"}),e.jsx("strong",{children:"SETTING"})]}),e.jsx("div",{className:"step-icon",children:e.jsx("i",{className:"fas fa-cogs"})})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-label",children:[e.jsx("small",{children:"Choose a"}),e.jsx("strong",{children:"DIAMOND"})]}),e.jsx("div",{className:"step-icon",children:e.jsx("i",{className:"far fa-gem"})})]}),e.jsxs("div",{className:"step active",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-label",children:[e.jsx("small",{children:"Complete"}),e.jsx("strong",{children:"RING"})]}),e.jsx("div",{className:"step-icon",children:e.jsx("i",{className:"fas fa-ring"})})]})]}),e.jsx("h3",{className:"mb-4",children:"Your Completed Ring"}),!s||!n?e.jsx("p",{children:"Please go back and select both a setting and diamond."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:"Choose Ring Theme:"}),e.jsx("div",{className:"d-flex gap-2 mt-2",children:r.map(l=>e.jsx("button",{onClick:()=>{console.log("Theme selected:",l.label),a(l)},style:{backgroundColor:l.color,border:"1px solid #ccc",width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",outline:t.label===l.label?"3px solid black":"none"},title:l.label},l.label))})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(M,{theme:t,modelPath:"/models/gltf/ring.gltf"})}),e.jsx("div",{className:"col-md-4",children:e.jsx("img",{src:"https://dev.maastrixdemo.com/ring_builder/public/storage/images/rings/r_img_1753443378.jpeg",width:"100%",alt:"Ring"})}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Setting:"})," ",s.label]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Diamond:"})," ",n.label]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," â‚¹",n.price]})]})]})]})]})}export{w as default};
